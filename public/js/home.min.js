!function(a){"use strict";function b(b){return{_id:b.data("id"),text:b.find(".text").text(),done:b.find(".done").is(":checked"),pos:a("#taskList .task").index(b)}}function c(b,c){a.ajax({contentType:"application/json",data:JSON.stringify(b),method:"POST",success:c,url:"/tasks"})}function d(b,c){a.ajax({contentType:"application/json",data:JSON.stringify(b),method:"PUT",success:c,url:"/tasks/"+b._id})}function e(b,c){a.ajax({contentType:"application/json",data:JSON.stringify(b),method:"DELETE",success:c,url:"/tasks"})}function f(b){c(b,function(b){a("#taskList").loadTemplate(a("#task-template"),b,{append:!0}),a("#tasks").removeClass("hidden"),a("#no-tasks").addClass("hidden"),a(".delete-finished").removeClass("hidden")})}function g(a){var c=b(a);d(c,function(){var b=a.find("label");c.done?b.addClass("text-muted struck"):b.removeClass("text-muted struck")})}function h(b){e(b.map(function(){return a(this).data("id")}).get(),function(){b.remove(),0===a("#taskList .task").size()&&(a("#tasks").addClass("hidden"),a("#no-tasks").removeClass("hidden"),a(".delete-finished").addClass("hidden"))})}function i(){a("#error").addClass("hidden")}function j(){a("#error").removeClass("hidden")}function k(){g(a(this).closest(".task"))}function l(){a("#task-description").val("")}function m(){f({text:a("#task-description").val(),done:!1}),a("#add-task-modal").modal("hide")}function n(){h(a("#taskList").children(".task").has(".done:checked")),a("#confirm-delete-modal").modal("hide")}function o(a,b,c){c(a,b),g(a)}a(function(){a(document).ajaxStart(i).ajaxError(j),a("#taskList").sortable({onDrop:o,handle:".glyphicon"}),a("#taskList").on("change",".done",k),a("#add-task-modal").on("show.bs.modal",l),a("#confirm-add").click(m),a("#confirm-delete").click(n),a("form").submit(function(){return!1})})}(jQuery);
//# sourceMappingURL=home.min.js.map